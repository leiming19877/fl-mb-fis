!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i(e.mui,e.document):"function"==typeof define&&(define.amd||define.cmd)?define(function(t){var n=t("mui");i(n,e.document)}):i(e.mui,e.document)}(this,function(e,i){e.dom=function(t){return"string"!=typeof t?t instanceof Array||t[0]&&t.length?[].slice.call(t):[t]:(e.__create_dom_div__||(e.__create_dom_div__=i.createElement("div")),e.__create_dom_div__.innerHTML=t,[].slice.call(e.__create_dom_div__.childNodes))};var t='<div class="mui-poppicker">		<div class="mui-poppicker-header">			<button class="mui-btn mui-poppicker-btn-cancel">取消</button>			<button class="mui-btn mui-btn-blue mui-poppicker-btn-ok">确定</button>			<div class="mui-poppicker-clear"></div>		</div>		<div class="mui-poppicker-body">		</div>	</div>',n='<div class="mui-picker">		<div class="mui-picker-inner">			<div class="mui-pciker-rule mui-pciker-rule-ft"></div>			<ul class="mui-pciker-list">			</ul>			<div class="mui-pciker-rule mui-pciker-rule-bg"></div>		</div>	</div>';e.PopPicker=e.Class.extend({init:function(n){var c=this;c.options=n||{},c.options.buttons=c.options.buttons||["取消","确定"],c.panel=e.dom(t)[0],i.body.appendChild(c.panel),c.ok=c.panel.querySelector(".mui-poppicker-btn-ok"),c.cancel=c.panel.querySelector(".mui-poppicker-btn-cancel"),c.body=c.panel.querySelector(".mui-poppicker-body"),c.mask=e.createMask(),c.cancel.innerText=c.options.buttons[0],c.ok.innerText=c.options.buttons[1],c.cancel.addEventListener("tap",function(e){c.hide()},!1),c.ok.addEventListener("tap",function(e){if(c.callback){var i=c.callback(c.getSelectedItems());i!==!1&&c.hide()}},!1),c.mask[0].addEventListener("tap",function(){c.hide()},!1),c._createPicker(),c.panel.addEventListener(e.EVENT_START,function(e){e.preventDefault()},!1),c.panel.addEventListener(e.EVENT_MOVE,function(e){e.preventDefault()},!1)},_createPicker:function(){var i=this,t=i.options.layer||1,c=100/t+"%";i.pickers=[];for(var a=1;t>=a;a++){var s=e.dom(n)[0];s.style.width=c,i.body.appendChild(s);var o=e(s).picker();i.pickers.push(o),s.addEventListener("change",function(e){var i=this.nextSibling;if(i&&i.picker){var t=e.detail||{},n=t.item||{};i.picker.setItems(n.children)}},!1)}},setData:function(e){var i=this;e=e||[],i.pickers[0].setItems(e)},getSelectedItems:function(){var e=this,i=[];for(var t in e.pickers){var n=e.pickers[t];i.push(n.getSelectedItem()||{})}return i},show:function(t){var n=this;n.callback=t,n.mask.show(),i.body.classList.add(e.className("poppicker-active-for-page")),n.panel.classList.add(e.className("active")),n.__back=e.back,e.back=function(){n.hide()}},hide:function(){var t=this;t.disposed||(t.panel.classList.remove(e.className("active")),t.mask.close(),i.body.classList.remove(e.className("poppicker-active-for-page")),e.back=t.__back)},dispose:function(){var e=this;e.hide(),setTimeout(function(){e.panel.parentNode.removeChild(e.panel);for(var i in e)e[i]=null,delete e[i];e.disposed=!0},300)}})});